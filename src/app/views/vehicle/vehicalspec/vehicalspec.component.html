<div class="vehicle-spec-container" *ngIf="!isLoading && vehicle">

  <section class="action-bar">
    <button class="secondary back-btn" (click)="goBack()">
      ← Back
    </button>

    <button class="primary book-btn" (click)="bookRide()">
      Book Ride
    </button>
  </section>

  <ngb-carousel
  *ngIf="vehicle?.images as images"
  [interval]="3000"
  [pauseOnHover]="true"
  [wrap]="true"
>
  <ng-template ngbSlide *ngFor="let img of images">
    <img
      [src]="img.imageLocation"
      class="hero-image"
      alt="Vehicle image"
    />
  </ng-template>
</ngb-carousel>

  <section class="basic-info">
    <h1>{{ vehicle.vehicleName }} {{ vehicle.model }}</h1>

    <table class="info-table">
      <tr>
        <th>Year</th>
        <td>{{ vehicle.yearOfProduction }}</td>
      </tr>

      <tr>
        <th>Price</th>
        <td>₹{{ vehicle.basePrice | number }}</td>
      </tr>

      <tr>
        <th>Status</th>
        <td>
          {{ vehicle.stockCount > 0 ? 'In Stock' : 'Out of Stock' }}
        </td>
      </tr>
    </table>
  </section>

  <section class="spec-section" *ngIf="vehicle.specifications?.length">
    <h2>Specifications</h2>

    <table class="spec-table">
      <tr *ngIf="vehicle.specifications[0].engine">
        <th>Engine</th>
        <td>{{ vehicle.specifications[0].engine }} cc</td>
      </tr>

      <tr *ngIf="vehicle.specifications[0].powerOfvehical">
        <th>Power</th>
        <td>{{ vehicle.specifications[0].powerOfvehical }}</td>
      </tr>

      <tr *ngIf="vehicle.specifications[0].torque">
        <th>Torque</th>
        <td>{{ vehicle.specifications[0].torque }}</td>
      </tr>

      <tr *ngIf="vehicle.specifications[0].fuleType">
        <th>Fuel Type</th>
        <td>{{ vehicle.specifications[0].fuleType }}</td>
      </tr>

      <tr *ngIf="vehicle.specifications[0].mileage">
        <th>Mileage</th>
        <td>{{ vehicle.specifications[0].mileage }}</td>
      </tr>

      <tr *ngIf="vehicle.specifications[0].bodyType">
        <th>Body Type</th>
        <td>{{ vehicle.specifications[0].bodyType }}</td>
      </tr>

      <tr *ngIf="vehicle.specifications[0].seatingCapacity">
        <th>Seating Capacity</th>
        <td>{{ vehicle.specifications[0].seatingCapacity }}</td>
      </tr>
    </table>
  </section>

  <section class="description" *ngIf="vehicle.shortDescription">
    <h2>Description</h2>
    <p>{{ vehicle.shortDescription }}</p>
  </section>
</div>

<div *ngIf="isLoading" class="state-text">
  Loading...
</div>

<div *ngIf="error" class="state-text error">
  {{ error }}
</div>
