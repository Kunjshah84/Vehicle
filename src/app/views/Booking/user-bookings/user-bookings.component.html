<div class="bookings-page">
  <div class="bookings-container">

    <!-- Header -->
    <div class="page-header">
      <div>
        <h1 class="page-title">My Upcoming Bookings</h1>
        <p class="page-subtitle">
          Please arrive at the showroom at the scheduled slot time
        </p>
      </div>

      <div class="bookings-count" *ngIf="!loading && bookings.length > 0">
        <span class="count-badge">{{ bookings.length }}</span>
        <span class="count-label">
          Active Booking{{ bookings.length !== 1 ? 's' : '' }}
        </span>
      </div>
    </div>

    <!-- States -->
    <div class="state" *ngIf="loading">Loading your bookingsâ€¦</div>
    <div class="state" *ngIf="!loading && bookings.length === 0">
      No upcoming bookings found
    </div>

    <!-- Cards -->
    <div class="bookings-grid" *ngIf="!loading && bookings.length > 0">
      <div class="booking-card" *ngFor="let b of bookings">

        <!-- Image -->
        <div class="card-image">
          <img
            *ngIf="b.vehiclePrimaryImage"
            [src]="b.vehiclePrimaryImage"
            [alt]="b.vehicleName"
          />

          <span
            class="status-badge"
            [class.pending]="b.status === 'PENDING'"
            [class.accepted]="b.status === 'ACTIVE' || b.status === 'ACCEPTED'">
            {{ b.status }}
          </span>
        </div>

        <!-- Content -->
        <div class="card-content">
          <h3 class="vehicle-name">{{ b.vehicleName }}</h3>

          <div class="details">

            <div class="detail">
              <svg viewBox="0 0 24 24">
                <rect x="3" y="4" width="18" height="18" rx="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
              </svg>
              <div>
                <span class="label">Slot Date</span>
                <span>{{ b.bookingDate | date:'EEE, MMM d, y' }}</span>
              </div>
            </div>

            <div class="detail">
              <svg viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
              <div>
                <span class="label">Slot Time</span>
                <span>{{ b.slotHour }}:00</span>
              </div>
            </div>

            <div class="detail">
              <svg viewBox="0 0 24 24">
                <circle cx="12" cy="7" r="4"></circle>
                <path d="M5.5 21a6.5 6.5 0 0113 0"></path>
              </svg>
              <div>
                <span class="label">Requested On</span>
                <span>{{ b.bookingCreatedAt | date:'medium' }}</span>
              </div>
            </div>

          </div>
        </div>

      </div>
    </div>

  </div>
</div>
